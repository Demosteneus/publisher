<!DOCTYPE html>
<html>
<head>
    <title>How to edit the layout file</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="alternate" type="application/atom+xml"  title="changelog speedata Publisher (en)"  href="../changes-en.xml" />
    <link rel="stylesheet" href="../assets/css/normal.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/colorbox.css" type="text/css" />
    <script src="../assets/js/jquery.min.js" ></script>
    <script src="../assets/js/jquery.colorbox-min.js" ></script>
    <script>
      $(document).ready(function(){
         $(".figure").colorbox({ rel: 'group1', opacity:0.5 });
      });
    </script>
</head>
<body>
<div id="logo"><a href="../index.html"><img src="../assets/images/publisher_logo.png" alt="Start page"></a></div>
<div class="">
<h1>How to edit the layout file</h1>

<p>The layout file is encoded in standard XML (UTF-8) and therefore it can
be edited with any text editor
(<a href="http://notepad-plus-plus.org">notepad++</a> for example). We provide a
full RelaxNG grammar which makes editing the layout XML with a good XML
editor a breeze. We know of the following editors that allow XML editing
with the support of RelaxNG. If you know of any other XML editors with
RelaxNG support, please drop us a note at
<a href="mailto:info@speedata.de">info@speedata.de</a>.</p>

<ul>
<li><a href="https://www.oxygenxml.com">OxygenXML</a> (Mac, Windows, Linux)</li>
<li><a href="http://www.altova.com/xml-editor/">XMLSpy</a> (Windows)</li>
<li><a href="http://www.xmlblueprint.com/">XML Blueprint</a> (Windows only)</li>
<li><a href="https://www.gnu.org/software/emacs/">GNU Emacs</a> with <a href="http://www.thaiopensource.com/nxml-mode/">nxml-mode</a> (all operating systems, free)</li>
<li><a href="http://www.jedit.org">jEdit</a> (Mac, Windows, Linux, free)</li>
</ul>

<p>The schema for editing the layout XML can be found in the directory
<code>share/schema</code> in the file <code>layoutschema-en.rng</code>.</p>

<h2>Note</h2>

<p>The XML namespace of the layout rules is
<code>urn:speedata.de:2009/publisher/en</code>. The layout XML must look like this
if you wish to validate against the Schema:</p>

<pre><code>&lt;Layout xmlns=&quot;urn:speedata.de:2009/publisher/en&quot;&gt;
 ...
&lt;/Layout&gt;
</code></pre>

<p>To use layout specific functions, you should add the following namespace
declaration to the start tag:</p>

<pre><code>&lt;Layout xmlns=&quot;urn:speedata.de:2009/publisher/en&quot;
        xmlns:sd=&quot;urn:speedata:2009/publisher/functions/en&quot;&gt;
 ...
&lt;/Layout&gt;
</code></pre>

<h2>Connecting the RelaxNG Schema with the Layout XML in the OxygenXML editor</h2>

<p>As an example, here is how to make OxygenXML automatically choose the
right Schema if you edit the layout xml file. The fastest way is to
manually connect the document to the schema:</p>

<p><a href="../img/oxygen-associateschema.png"><img src="../img/oxygen-associateschema.png" style="max-width: 40%"></a></p>

<p>(You can click on any screenshot for a larger version.)</p>

<p>Better is to use the more persistent solution. You can associate all
documents in the namespace <code>urn:speedata.de:2009/publisher/en</code> with the
RelaxNG schema.</p>

<p>To do this, you need to create a new rule in “document type association”.</p>

<p><a href="../img/oxygen-associatedoc1.png"><img src="../img/oxygen-associatedoc1.png" style="max-width: 40%"></a></p>

<p>Fill out the form as in the next screenshot:</p>

<p><a href="../img/oxygen-associatedoc.png"><img src="../img/oxygen-associatedoc.png" style="max-width: 40%"></a></p>

<p>and click on the <code>+</code> button to create the rule like this:</p>

<p><a href="../img/oxygen-associatenamespace.png"><img src="../img/oxygen-associatenamespace.png" style="max-width: 40%"></a></p>

<p>After that, you need to supply the path to the RelaxNG schema file
(here: a local installation).</p>

<p><a href="../img/oxygen-associateschema2.png"><img src="../img/oxygen-associateschema2.png" style="max-width: 40%"></a></p>

<p>The dialog must be confirmed with <code>OK</code>. If you now open a layout XML
file, it should be automatically connected to the schema and you get
full editor support (command completion, tool tip help, validation).</p>

<p>If the XML editor support RelaxNG with Schematron, it is advisable to activate
that support for enhanced error reporting while editing.</p>

</div>


<div style="clear:both; border-bottom: 1px solid #a0a0a0; width: 100%; margin-top: 30px;"></div>
Version: 2.8.0 | <a href="../index.html">Start page</a> | <a href="../commands-en/layout.html">Element reference</a> | Other language:  <a href="../description-de/xmlediting.html">German</a>

</body>
</html>