<!DOCTYPE html>
<html>
<head>
    <title>Command line reference</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="alternate" type="application/atom+xml"  title="changelog speedata Publisher (en)"  href="../changes-en.xml" />
    <link rel="stylesheet" href="../assets/css/normal.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/colorbox.css" type="text/css" />
    <script src="../assets/js/jquery.min.js" ></script>
    <script src="../assets/js/jquery.colorbox-min.js" ></script>
    <script>
      $(document).ready(function(){
         $(".figure").colorbox({ rel: 'group1', opacity:0.5 });
      });
    </script>
</head>
<body>
<div id="logo"><a href="../index.html"><img src="../assets/images/publisher_logo.png" alt="Start page"></a></div>
<div class="">
<h1>Running the speedata publisher on the command line</h1>

<pre><code>$ sp --help
Usage: [parameter] command
-h, --help                   Show this help
    --autoopen               Open the PDF file (MacOS X and Linux only)
    --data=NAME              Name of the XML data file. Defaults to 'data.xml'. Use '-' for STDIN
    --dummy                  Don't read a data file, use '&lt;data /&gt;' as input
-c, --config=NAME            Read the config file with the given NAME. Default: 'publisher.cfg'
    --[no-]cutmarks          Display cutmarks in the document
-x, --extra-dir=DIR          Additional directory for file search
    --extra-xml=NAME         Add this file to the layout file
    --filter=FILTER          Run XPROC filter before publishing starts
    --grid                   Display background grid. Disable with --no-grid
    --ignore-case            Ignore case when accessing files (on a case-insensitive file system)
    --[no-]local             Add local directory to the search path. Default is true
    --layout=NAME            Name of the layout file. Defaults to 'layout.xml'
    --jobname=NAME           The name of the resulting PDF file (without
                             extension), default is 'publisher'
    --mainlanguage=NAME      The document's main language in locale format,
                             for example 'en' or 'en_US'.
    --outputdir=DIR          Copy PDF and protocol to this directory
    --profile                Run publisher with profiling on (internal use)
    --quiet                  Run publisher in silent mode
    --runs=NUM               Number of publishing runs
    --startpage=NUM          The first page number
    --show-gridallocation    Show the allocated grid cells
    --systemfonts            Use system fonts
    --tempdir=DIR            Use this directory instead of the system temporary directory
    --trace                  Show debug messages and some tracing PDF output
    --timeout=SEC            Exit after SEC seconds
-v, --var=VAR=VALUE          Set a variable for the publishing run
    --varsfile=NAME          Set variables for the publishing run from key=value... file
    --verbose                Print a bit of debugging output
    --version                Show version information
    --wd=DIR                 Change working directory
    --xml                    Output as (pseudo-)XML (for list-fonts)

Commands
      clean                  Remove publisher generated files
      compare                Compare files for quality assurance
      doc                    Open documentation
      list-fonts             List installed fonts (use together with --xml for copy/paste)
      run                    Start publishing (default)
      server                 Run as http-api server on port 5266 (configure with --port)
      watch                  Start watchdog / hotfolder
</code></pre>

<h2>Description of the command line parameters</h2>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>--autoopen</code></td>
<td>Opens the PDF file after running the publisher. Can also be set in the <a href="configuration.html">configuration file</a>.</td>
</tr>

<tr>
<td><code>--data=NAME</code></td>
<td>Name of the data XML file. Default is <code>data.xml</code>. Can be set in the<a href="configuration.html">configuration file</a>. If the file name is a dash(<code>-</code>), the speedata publisher reads the XML data from standard input(STDIN).</td>
</tr>

<tr>
<td><code>--cutmarks</code></td>
<td>Show cut marks. Can be also configured in the <a href="../commands-en/options.html">Layout</a>.</td>
</tr>

<tr>
<td><code>--dummy</code></td>
<td>Only read the layout rules. A simple data file is assumed which only contains one element: <code>&lt;data /&gt;</code>. This is for quick testing of layout files.</td>
</tr>

<tr>
<td><code>-x</code>, <code>--extra-dir</code></td>
<td>Puts the given directory into the search path. All assets (images,fonts, XML data and layout rules) must be found in the seach path,which will be traversed recursively. This parameter can be given multiple times and preset in the <a href="configuration.html">configurationfile</a>.</td>
</tr>

<tr>
<td><code>--extra-xml=NAME</code></td>
<td>Add this file to the layout instructions. Similar to inclusion of the file with xinclude.</td>
</tr>

<tr>
<td><code>--filter=FILTER</code></td>
<td>Run the given XPROC file.</td>
</tr>

<tr>
<td><code>--grid</code></td>
<td>Show the grid. Can be turned off with <code>--no-grid</code>. Can be configured in the layout XML file: <a href="../commands-en/options.html">Layout</a>.</td>
</tr>

<tr>
<td><code>--ignore-case</code></td>
<td>Ignore case when accessing files (on a case-insensitive file system).</td>
</tr>

<tr>
<td><code>--layout=NAME</code></td>
<td>Name of the layout XML file. Default is <code>layout.xml</code>. Can be<a href="configuration.html">configured</a>.</td>
</tr>

<tr>
<td><code>--[no-]local</code></td>
<td>The current directory is (not) added to the search path recursively.The default is <code>--local</code> which means that the current directory and all its subdirectories is added to the search path. This allows you to run the publisher in any directory and put your assets in a subdirectory.</td>
</tr>

<tr>
<td><code>--jobname=NAME</code></td>
<td>The name of the output file. Default is <code>publisher</code>. The extension(<code>.pdf</code>) is added automatically.</td>
</tr>

<tr>
<td><code>--mainlanguage=NAME</code></td>
<td>Set the main language for the document (hyphenation). Allowed values are: <code>af</code>, <code>as</code>, <code>bg</code>, <code>ca</code>, <code>cs</code>, <code>cy</code>, <code>da</code>, <code>de</code>, <code>el</code>, <code>en</code>,<code>en_GB</code>, <code>en_US</code>, <code>eo</code>, <code>es</code>, <code>et</code>, <code>eu</code>, <code>fi</code>, <code>fr</code>, <code>ga</code>, <code>gl</code>,<code>gu</code>, <code>hi</code>, <code>hr</code>, <code>hu</code>, <code>hy</code>, <code>ia</code>, <code>id</code>, <code>is</code>, <code>it</code>, <code>ku</code>, <code>kn</code>,<code>la</code>, <code>lo</code>, <code>lt</code>, <code>ml</code>, <code>lv</code>, <code>ml</code>, <code>mn</code>, <code>mr</code>, <code>nb</code>, <code>nl</code>, <code>nn</code>,<code>or</code>, <code>pa</code>, <code>pl</code>, <code>pt</code>, <code>ro</code>, <code>ru</code>, <code>sa</code>, <code>sk</code>, <code>sl</code>, <code>sr</code>, <code>sv</code>,<code>ta</code>, <code>te</code>, <code>tk</code>, <code>tr</code>, <code>uk</code> and <code>zh</code>. See also the <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">language codelist</a>.</td>
</tr>

<tr>
<td><code>--outputdir=DIR</code></td>
<td>Name of the directory of the resulting file. The directory will be created if necessary.</td>
</tr>

<tr>
<td><code>--profile</code></td>
<td>Run publisher with profiling on (internal use).</td>
</tr>

<tr>
<td><code>--quiet</code></td>
<td>Run publisher in silent mode.</td>
</tr>

<tr>
<td><code>--runs=NUM</code></td>
<td>The number of passes. Normally the publisher will process a file only once, but more passes can be necessary if intermediate files are created for generating a table of contents or other document dependent data.</td>
</tr>

<tr>
<td><code>--show-gridallocation</code></td>
<td>Show the allocated grid cells in yellowish color and double allocated grid cells in red.</td>
</tr>

<tr>
<td><code>--startpage=NUM</code></td>
<td>The number of the first page.</td>
</tr>

<tr>
<td><code>--systemfonts</code></td>
<td>Also use system fonts. Does not work on Windows XP.</td>
</tr>

<tr>
<td><code>--tempdir</code></td>
<td>Use this directory instead of the system's temp dir.</td>
</tr>

<tr>
<td><code>--timeout=SEC</code></td>
<td>Exit after SEC seconds with exit status 1.</td>
</tr>

<tr>
<td><code>-v</code>, <code>--var=value</code></td>
<td>Passes additional variables to the publisher run. The variables can be accessed as usual with <code>select=&quot;$variable&quot;</code>.</td>
</tr>

<tr>
<td><code>--varsfile=NAME</code></td>
<td>Read an external file where each line has the format <code>variable=value</code> to add additional variables`</td>
</tr>

<tr>
<td><code>--verbose</code></td>
<td>More information than necessary.</td>
</tr>

<tr>
<td><code>--wd=DIR</code></td>
<td>Change working directory. Exactly the same as if youâ€™d cd into that directory before running <code>sp</code>.</td>
</tr>

<tr>
<td><code>--xml</code></td>
<td>The output of some commands (currently only <code>list-fonts</code>) will be printed in (pseudo) XML. That way the output can be re-used in the layout XML.</td>
</tr>
</tbody>
</table>

<h2>Commands</h2>

<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>list-fonts</code></td>
<td>Lists all fonts that are found in the search path. Together with <code>--xml</code> the output format can re used in the layout XML.</td>
</tr>

<tr>
<td><code>compare</code></td>
<td>Recursively check a directory for layout changes. See the topic<a href="qualityassurance.html">about quality assurance</a>.</td>
</tr>

<tr>
<td><code>clean</code></td>
<td>Remove temporary files from the publisher run. Keeps the PDF file.</td>
</tr>

<tr>
<td><code>doc</code></td>
<td>Opens the HTML documentation.</td>
</tr>

<tr>
<td><code>run</code></td>
<td>Starts the speedata publisher (this is the default command).</td>
</tr>

<tr>
<td><code>server</code></td>
<td>Runs in <a href="servermode.html">Server-mode</a>.</td>
</tr>

<tr>
<td><code>watch</code></td>
<td>Runs in internal hotfolder mode.</td>
</tr>
</tbody>
</table>

<h3>Example for hotfolder configuration</h3>

<pre><code>[hotfolder]
hotfolder = /home/speedata/hotfolder
events = layout\.xml:run(runpublisher);data\.xml:run(runpublisher)
</code></pre>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>hotfolder</code></td>
<td>Directory to be watched.</td>
</tr>

<tr>
<td><code>events</code></td>
<td>Entries (separated by a semicolon) in the form <code>pattern:command</code>.The <code>pattern</code> is a regular expression. If this pattern matches a file, the command given in the configuration is executed. Currently only external programs can be run. These programs must be given in parentheses. The path to the file will be passed as the first argument. The hotfolder waits until the program is finished and removes the file afterwards.</td>
</tr>
</tbody>
</table>

</div>


<div style="clear:both; border-bottom: 1px solid #a0a0a0; width: 100%; margin-top: 30px;"></div>
Version: 2.5.1 | <a href="../index.html">Start page</a> | <a href="../commands-en/layout.html">Element reference</a> | Other language:  <a href="../description-de/commandline.html">German</a>

</body>
</html>